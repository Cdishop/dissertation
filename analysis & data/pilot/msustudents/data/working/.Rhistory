knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
library(tidyverse)
library(readxl)
setwd("../data/working")
files <- Sys.glob("*.xlsx")
files
getwd()
setwd("../data/working/")
files <- Sys.glob("*.xlsx")
files
getwd()
library(tidyverse)
library(readxl)
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
library(tidyverse)
library(readxl)
setwd("../data/working")
files <- Sys.glob("*.xlsx")
files
getwd()
setwd("../data/working")
getwd()
knitr::opts_knit$set(root.dir = "/tmp")
library(tidyverse)
library(readxl)
setwd("../data/working")
knitr::opts_knit$set(root.dir = "../data/working")
getwd()
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
knitr::opts_knit$set(root.dir = "../data/working")
files <- Sys.glob("*.xlsx")
files
getwd()
knitr::opts_knit$set(root.dir = "../data/working")
files <- Sys.glob("*.xlsx")
files
getwd()
knitr::opts_knit$set(root.dir = "../data/working")
files <- Sys.glob("*.xlsx")
files
knitr::opts_knit$set(root.dir = "../data/cleaned")
getwd()
knitr::opts_knit$set(root.dir = "/tmp")
getwd()
knitr::opts_knit$set(root.dir = "../data/cleaned")
getwd()
library(tidyverse)
library(readxl)
setwd("../data/working")
files <- Sys.glob("*.xlsx")
file_name <- files[1]
df <- read_excel(file_name)
df <- df %>%
select(starts_with("Michi"),
"...2",
"...3",
"...12") %>%
rename(degree = starts_with("Michi"),
degree_id = "...2",
degree_level = "...3",
total = "...12") %>%
slice(-c(1:5))
### select only phd students
df <- df %>%
filter(degree_level == "PHD")
### the prior step also gets rid of total rows across colleges, cool
## new column to represent data set and time
df$file <- file_name
df$time <- 1
## keep only degrees with unique names
## e.g., physio is in natural science and biology and osteo
df <- df %>%
distinct(.keep_all = T)
## keep only degrees with unique names
## e.g., physio is in natural science and biology and osteo
df <- df %>%
distinct(degree, .keep_all = T)
View(df)
