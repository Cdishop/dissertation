dtdickey <- plm.data(dt, index = c("repoid", "event_at_index"))
# not significant = random walk
dy <- adf.test(dtdickey[, "value"])["p.value"][[1]]
# significant = random walk
kp <- kpss.test(dtdickey[, "value"], null = "Trend")["p.value"][[1]]
store_results[[i, "dickey"]] <- dy
store_results[[i, "kpss"]] <- kp
store_results[[i, "repoid"]] <- i
}
store_results %>%
filter(dickey > 0.05) %>%
count() / nrow(store_results)
store_results %>%
filter(kpss < 0.05) %>%
count() / nrow(store_results)
(store_results %>%
filter(dickey > 0.05, kpss < 0.05) %>%
count()) / nrow(store_results)
library(tidyverse)
library(ggplot2)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
pt <- left_join(pt, repoids)
pt <- pt %>%
unite("repoidname", nameit, repoid, sep = " ")
pt <- pt %>%
arrange(nameit)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
pt <- left_join(pt, repoids)
pt <- pt %>%
arrange(repoid) %>%
unite("repoidname", nameit, repoid, sep = " ")
View(pt)
View(pt)
knitr::opts_chunk$set(echo = F, warning = F, message = F)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
pt <- left_join(pt, repoids)
pt <- pt %>%
arrange(repoid) %>%
unite("repoidname", nameit, repoid, sep = " ", remove = F)
pt %>%
filter(repoid = c(start:end))
use <- seq(from = start, to = end, by = 1)
start <- 1
end <- 6
use <- seq(from = start, to = end, by = 1)
pt %>%
filter(repoid %in% use)
install.packages('ggforce')
library(tidyverse)
library(ggplot2)
library(ggforce)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
pt <- left_join(pt, repoids)
pt <- pt %>%
arrange(repoid) %>%
unite("repoidname", nameit, repoid, sep = " ", remove = F)
pt %>%
ggplot() +
aes(event_at, value, color = repoidname, group = repoidname) +
geom_step(show.legend = F, color = "black") +
facet_wrap_paginate(vars(repoidname), scales = "free", ncol = 1) +
ylim(0, NA) +
theme_classic() +
labs(
x = "Day",
y = NULL,
title = "Number of Open Issues"
) -> p
required_n_pages <- n_pages(p)
pt %>%
ggplot() +
aes(event_at, value, color = repoidname, group = repoidname) +
geom_step(show.legend = F, color = "black") +
facet_wrap_paginate(~repoidname, scales = "free", ncol = 1) +
ylim(0, NA) +
theme_classic() +
labs(
x = "Day",
y = NULL,
title = "Number of Open Issues"
) -> p
required_n_pages <- n_pages(p)
for(i in 1:required_n_pages){
pt %>%
ggplot() +
aes(event_at, value, color = repoidname, group = repoidname) +
geom_step(show.legend = F, color = "black") +
facet_wrap_paginate(vars(repoidname), scales = "free", ncol = 1, page = i) +
ylim(0, NA) +
theme_classic() +
labs(
x = "Day",
y = NULL,
title = "Number of Open Issues"
) -> p
print(p)
}
pt %>%
ggplot() +
aes(event_at, value, color = repoidname, group = repoidname) +
geom_step(show.legend = F, color = "black") +
facet_wrap_paginate(~repoidname,
nrow = 1,
ncol = 1,
scales = "free") +
ylim(0, NA) +
theme_classic() +
labs(
x = "Day",
y = NULL,
title = "Number of Open Issues"
) -> p
required_n_pages <- n_pages(p)
pt %>%
ggplot() +
aes(event_at, value, color = repoidname, group = repoidname) +
geom_step(show.legend = F, color = "black") +
facet_wrap_paginate(~repoidname,
nrow = 6,
ncol = 1,
scales = "free") +
ylim(0, NA) +
theme_classic() +
labs(
x = "Day",
y = NULL,
title = "Number of Open Issues"
) -> p
required_n_pages <- n_pages(p)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
pt <- left_join(pt, repoids)
pt <- pt %>%
arrange(repoid) %>%
unite("repoidname", nameit, repoid, sep = " ", remove = F)
pt <- read.csv("../data/for-analysis-ts/daily_plot.csv")
repoids <- pt %>%
distinct(repo)
repoids <- repoids %>%
mutate(repoid = 1:nrow(repoids)) %>%
mutate(nameit = "GitHub Repo:") %>%
select(nameit, repoid, repo)
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
library(tidyverse)
library(tseries)
library(plm)
df <- read.csv("../data/for-analysis-ts/daily_issues.csv")
df %>%
distinct(repo) %>% nrow()
repos <- df %>%
distinct(repo) %>% pull()
repids <- tibble(
'repo' = repos,
'repoid' = c(1:36)
)
df <- left_join(df, repids)
df %>%
filter(event_at_index == 0) %>%
select(repoid, event_at) %>%
rename("Repo ID" = repoid,
"Start Date" = event_at)
df %>%
group_by(repo) %>%
summarize(
numdays = max(event_at_index))
numdays <- df %>%
group_by(repo) %>%
summarize(
numdays = max(event_at_index))
df <- left_join(df, numdays)
df %>%
filter(event_at_index == 0) %>%
select(repoid, event_at, numdays) %>%
rename("Repo ID" = repoid,
"Start Date" = event_at,
"Length of Time Series (Days)" = numdays)
df1 <- df %>%
filter(repoid == 1)
dfdickey <- plm.data(df1, index = c("repoid", "event_at_index"))
# not significant = random walk
adf.test(dfdickey[, "value"])["p.value"][[1]]
# significant = random walk
kpss.test(dfdickey[, "value"], null = "Trend")["p.value"][[1]]
adf.test(dfdickey[, "value"])
adf.test(dfdickey[, "value"])["Dickey-Fuller"][[1]]
adf.test(dfdickey[, "value"])["Dickey-Fuller"]
adf.test(dfdickey[, "value"])
adf.test(dfdickey[, "value"])["Dickey-Fuller"][[1]]
str(adf.test(dfdickey[, "value"]))
adf.test(dfdickey[, "value"])$statistic
adf.test(dfdickey[, "value"])$statistic[1]
adf.test(dfdickey[, "value"])$statistic[[1]]
adf.test(dfdickey[, "value"])$statistic[[1]] # test statistic
adf.test(dfdickey[, "value"])
runs <- nrow(repids)
store_results <- data.frame(
"dickeyp" = numeric(runs),
"kpss" = numeric(runs),
"repoid" = numeric(runs),
"dickey" = numeric(runs)
)
for(i in 1:runs){
dt <- df %>%
filter(repoid == i)
dtdickey <- plm.data(dt, index = c("repoid", "event_at_index"))
# not significant = random walk
dy <- adf.test(dtdickey[, "value"])["p.value"][[1]]
dt <- adf.test(dtdickey[, "value"])$statistic[[1]]
# significant = random walk
kp <- kpss.test(dtdickey[, "value"], null = "Trend")["p.value"][[1]]
store_results[[i, "dickeyp"]] <- dy
store_results[[i, "kpss"]] <- kp
store_results[[i, "repoid"]] <- i
store_results[[i, "dickey"]] <- dt
}
store_results %>%
filter(dickey > 0.05) %>%
count() / nrow(store_results)
store_results %>%
filter(kpss < 0.05) %>%
count() / nrow(store_results)
(store_results %>%
filter(dickey > 0.05, kpss < 0.05) %>%
count()) / nrow(store_results)
runs <- nrow(repids)
store_results <- data.frame(
"dickeyp" = numeric(runs),
"kpss" = numeric(runs),
"repoid" = numeric(runs),
"dickey" = numeric(runs)
)
for(i in 1:runs){
dt <- df %>%
filter(repoid == i)
dtdickey <- plm.data(dt, index = c("repoid", "event_at_index"))
# not significant = random walk
dy <- adf.test(dtdickey[, "value"])["p.value"][[1]]
dt <- adf.test(dtdickey[, "value"])$statistic[[1]]
# significant = random walk
kp <- kpss.test(dtdickey[, "value"], null = "Trend")["p.value"][[1]]
store_results[[i, "dickeyp"]] <- dy
store_results[[i, "kpss"]] <- kp
store_results[[i, "repoid"]] <- i
store_results[[i, "dickey"]] <- dt
}
store_results %>%
filter(dickeyp > 0.05) %>%
count() / nrow(store_results)
store_results %>%
filter(kpss < 0.05) %>%
count() / nrow(store_results)
(store_results %>%
filter(dickeyp > 0.05, kpss < 0.05) %>%
count()) / nrow(store_results)
df$nicedate <- gsub(df$event_at, pattern = "00:00:00", replacement = "")
library(kableExtra)
store_results <- store_results %>%
mutate(DF = ifelse(dickeyp > 0.05, "Yes", "No")) %>%
mutate(KP = ifelse(kpss < 0.05, "Yes", "No"))
df <- left_join(df, store_results)
View(df)
df$nicedate <- gsub(df$event_at, pattern = "00:00:00", replacement = "")
library(kableExtra)
store_results <- store_results %>%
mutate(DF = ifelse(dickeyp > 0.05, "Yes", "No")) %>%
mutate(KP = ifelse(kpss < 0.05, "Yes", "No"))
df <- left_join(df, store_results)
df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start Date" = nicedate,
"Length of Time Series (Days)" = numdays_round,
"Dickey-Fuller Statistic" = dickey,
"P-Value" = dickeyp,
"Unit Root Present" = DF) %>%
kable() %>%
kable_styling() %>%
footnote("Dickey-Fuller Results: 83% of series contain unit root\nKPSS Results: 100% of series contain unit root")
df$nicedate <- gsub(df$event_at, pattern = "00:00:00", replacement = "")
library(kableExtra)
store_results <- store_results %>%
mutate(DF = ifelse(dickeyp > 0.05, "Yes", "No")) %>%
mutate(KP = ifelse(kpss < 0.05, "Yes", "No"))
df <- left_join(df, store_results)
df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start Date" = nicedate,
"Length of Time Series (Days)" = numdays_round,
"Dickey-Fuller Statistic" = dickey,
"P-Value" = dickeyp,
"Unit Root Present" = DF) %>%
kable() %>%
kable_styling() %>%
footnote("83% of series contain unit root")
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
library(tidyverse)
library(tseries)
library(plm)
df <- read.csv("../data/for-analysis-ts/daily_issues.csv")
df %>%
distinct(repo) %>% nrow()
repos <- df %>%
distinct(repo) %>% pull()
repids <- tibble(
'repo' = repos,
'repoid' = c(1:36)
)
df <- left_join(df, repids)
df %>%
filter(event_at_index == 0) %>%
select(repoid, event_at) %>%
rename("Repo ID" = repoid,
"Start Date" = event_at)
df %>%
group_by(repo) %>%
summarize(
numdays = max(event_at_index))
numdays <- df %>%
group_by(repo) %>%
summarize(
numdays = max(event_at_index))
df <- left_join(df, numdays)
df %>%
filter(event_at_index == 0) %>%
select(repoid, event_at, numdays) %>%
rename("Repo ID" = repoid,
"Start Date" = event_at,
"Length of Time Series (Days)" = numdays)
df1 <- df %>%
filter(repoid == 1)
dfdickey <- plm.data(df1, index = c("repoid", "event_at_index"))
# not significant = random walk
adf.test(dfdickey[, "value"])["p.value"][[1]] # p value
adf.test(dfdickey[, "value"])$statistic[[1]] # test statistic
# significant = random walk
kpss.test(dfdickey[, "value"], null = "Trend")["p.value"][[1]]
runs <- nrow(repids)
store_results <- data.frame(
"dickeyp" = numeric(runs),
"kpss" = numeric(runs),
"repoid" = numeric(runs),
"dickey" = numeric(runs)
)
for(i in 1:runs){
dt <- df %>%
filter(repoid == i)
dtdickey <- plm.data(dt, index = c("repoid", "event_at_index"))
# not significant = random walk
dy <- adf.test(dtdickey[, "value"])["p.value"][[1]]
dt <- adf.test(dtdickey[, "value"])$statistic[[1]]
# significant = random walk
kp <- kpss.test(dtdickey[, "value"], null = "Trend")["p.value"][[1]]
store_results[[i, "dickeyp"]] <- dy
store_results[[i, "kpss"]] <- kp
store_results[[i, "repoid"]] <- i
store_results[[i, "dickey"]] <- dt
}
store_results %>%
filter(dickeyp > 0.05) %>%
count() / nrow(store_results)
store_results %>%
filter(kpss < 0.05) %>%
count() / nrow(store_results)
(store_results %>%
filter(dickeyp > 0.05, kpss < 0.05) %>%
count()) / nrow(store_results)
df$nicedate <- gsub(df$event_at, pattern = "00:00:00", replacement = "")
library(kableExtra)
store_results <- store_results %>%
mutate(DF = ifelse(dickeyp > 0.05, "Yes", "No")) %>%
mutate(KP = ifelse(kpss < 0.05, "Yes", "No"))
df <- left_join(df, store_results)
df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start Date" = nicedate,
"Length of Time Series (Days)" = numdays_round,
"Dickey-Fuller Statistic" = dickey,
"P-Value" = dickeyp,
"Unit Root Present" = DF) %>%
kable() %>%
kable_styling() %>%
footnote("83% of series contain unit root")
View(df)
df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
mutate(nicedate = as.character(nicedate)) %>%
mutate(nicedate = str_trim(nicedate)) %>%
mutate(numdays_round = as.character(numdays_round)) %>%
mutate(numdays_round = str_trim(numdays_round))
devtools::install_github("davidgohel/flextable")
library(flextable)
df$nicedate <- gsub(df$event_at, pattern = "00:00:00", replacement = "")
library(kableExtra)
store_results <- store_results %>%
mutate(DF = ifelse(dickeyp > 0.05, "Yes", "No")) %>%
mutate(KP = ifelse(kpss < 0.05, "Yes", "No"))
df <- left_join(df, store_results)
fitdf <- df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start" = nicedate,
"Length (Days)" = numdays_round,
"Dickey-Fuller" = dickey,
"P-Value" = dickeyp,
"Unit Root" = DF)
fitdf <- flextable(fitdf)
fitdf <- qflextable(fitdf)
fitdf <- data.frame(fitdf)
fitdf <- df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start" = nicedate,
"Length (Days)" = numdays_round,
"Dickey-Fuller" = dickey,
"P-Value" = dickeyp,
"Unit Root" = DF)
fitdf <- data.frame(fitdf)
fitdf <- flextable(fitdf)
fitdf <- qflextable(fitdf)
fitdf <- df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start" = nicedate,
"Length (Days)" = numdays_round,
"Dickey-Fuller" = dickey,
"P-Value" = dickeyp,
"Unit Root" = DF)
fitdf <- as.data.frame(fitdf)
fitdf <- flextable(fitdf)
fitdf <- qflextable(fitdf)
View(fitdf)
fitdf <- df %>%
filter(event_at_index == 0) %>%
select(repoid, nicedate, numdays, dickey, dickeyp, DF) %>%
mutate(numdays_round = round(numdays, digits = 0)) %>%
mutate(dickey = round(dickey, digits = 2)) %>%
mutate(dickeyp = round(dickeyp, digits = 2)) %>%
select(repoid, nicedate, numdays_round, dickey, dickeyp, DF) %>%
rename("Repo ID" = repoid,
"Start" = nicedate,
"Length (Days)" = numdays_round,
"Dickey-Fuller" = dickey,
"P-Value" = dickeyp,
"Unit Root" = DF)
fitdf <- qflextable(fitdf)
set_table_properties(fitdf, width = 1.3, layout = "autofit")
